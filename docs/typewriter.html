<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.5" />
<title>typewriter.typewriter API documentation</title>
<meta name="description" content="Generates images and video from code with a typewriter effect (typing one character at a time)" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>typewriter.typewriter</code></h1>
</header>
<section id="section-intro">
<p>Generates images and video from code with a typewriter effect (typing one character at a time)</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python
&#34;&#34;&#34;
Generates images and video from code with a typewriter effect (typing one character at a time)
&#34;&#34;&#34;
__author__ = &#39;Victoria (Rice) Rodriguez&#39;
__package__ = &#34;typewriter&#34;

import os, sys
import cv2
import argparse
import logging
import numpy as np
from PIL import Image
from threading import Thread
from pygments import highlight
from pygments.formatters import ImageFormatter
from pygments.lexers import (get_lexer_by_name,get_lexer_for_filename,guess_lexer)

class Typewriter:
    def __init__(self,**args):
        &#34;&#34;&#34;
        Generates images and video from code with a typewriter effect (typing one character at a time). 
        &#34;&#34;&#34;
        self.args = args
        self.lexer = get_lexer_for_filename(args[&#39;textfile&#39;]) if self.args[&#39;language&#39;] is None else get_lexer_by_name(self.args[&#39;language&#39;])

        logger.debug(f&#39;Assigned value to lexer object {self.lexer}&#39;)
        self.formatter = self.__get_formatter()
        logger.debug(f&#39;Assigned value to formatter object {self.formatter}&#39;)
        self._image_paths = []
        self._progress=0
        self._impath=&#39;&#39;
        self.images = []
        self.total=0
        self.total_size=0
        try:
            with open(args[&#39;textfile&#39;],&#39;r&#39;) as f:
                self._content = f.read()
        except FileNotFoundError as err:
            logger.error(err)
            sys.exit(-1)

    def __get_formatter(self):
        return ImageFormatter(line_numbers=True,style=self.args[&#39;style&#39;],line_number_bg=None,font_size=self.args[&#39;font_size&#39;])

    def __get_lexer(self,content):
        lexer = guess_lexer(content) if self.args[&#39;language&#39;] is None else get_lexer_by_name(self.args[&#39;language&#39;])
        return lexer

    def __update_progress(self):
        &#39;&#39;&#39;
        Adapted into fewer lines from the following gist:
        https://gist.github.com/vladignatyev/06860ec2040cb497f0f3
        &#39;&#39;&#39;
        sys.stdout.write(f&#39;[{&#34;=&#34;*int(round(50*self.progress/float(self.total)))+&#34;-&#34;*(50-int(round(50*self.progress/float(self.total))))} {round(100.0*self.progress/float(self.total),1)}%]\r&#39;)
        sys.stdout.flush()

    def __make_dir(self):
        choice=&#39;&#39;
        if not os.path.exists(&#39;tmp&#39;):
            os.makedirs(&#39;tmp&#39;)
        else:
            while not choice == &#39;y&#39;:
                logger.warning(&#39;There is already a directory named &#34;tmp&#34; here. Please make sure you are okay with everything in this &#34;tmp&#34; folder getting deleted before continuing.&#39;)
                choice=input(&#39;Continue? y/n\n&#39;)
                if choice == &#39;y&#39;:
                    break
                elif choice == &#39;n&#39;:
                    sys.exit(-1)
                else:
                    logger.warning(&#39;Invalid choice. Please type &#34;y&#34; or &#34;n&#34;.\n&#39;)
                    continue

    @property
    def content(self):
        return self._content

    @content.setter
    def content(self,val):
        self._content=val
        self.__get_lexer(self._content)
        self.__get_formatter()

    @property
    def progress(self):
        return self._progress

    @progress.setter
    def progress(self,val):
        self._progress=val
        self.__update_progress()

    @property
    def impath(self):
        return self._impath

    @impath.setter
    def impath(self,val):
        self._impath=val
        self._image_paths.append(self._impath)
        old = Image.open(self._impath)
        new=Image.new(&#39;RGBA&#39;,self.total_size)
        new.paste(old)
        new.save(self._impath)
        self.images.append(new)

    @property
    def image_paths(self):
        return self._image_paths

    @image_paths.setter
    def image_paths(self,val):
        self._image_paths=val
        self.images=[Image.open(f) for f in self._image_paths]
        
    def generate_images(self,content=None):
        &#39;&#39;&#39;
        Generate Images
        ---------------
        Description: Creates a list of image data given text content
        &#39;&#39;&#39;
        if content is None:
            content=self.content
        else:
            self.content = content

        self.__make_dir()
        self.total=len(content)
        code = &#39;&#39;
        logger.info(&#39;Generating images...&#39;)
        blank=&#39;\n&#39;.join([&#39; &#39;*len(line) for line in content.splitlines()])
        last_impath=os.path.join(&#39;tmp&#39;,f&#39;tmp_{str(len(content)).zfill(5)}.png&#39;)
        highlight(blank,self.lexer,self.formatter,outfile=last_impath)

        im=Image.open(last_impath).convert(&#39;RGBA&#39;)
        self.total_size=im.size
        self.images.append(im)
        os.remove(last_impath)
        for line in content:
            for ch in line:
                self.progress+=1
                impath=os.path.join(&#39;tmp&#39;,f&#39;tmp_{str(self.progress).zfill(5)}.png&#39;)
                highlight(code,self.lexer,self.formatter,outfile=impath)
                self.impath=impath
                code += ch

        print()
        return self.image_paths

    def generate_movie(self,image_paths=None,**args):
        &#39;&#39;&#39;
        Generate Movie
        --------------
        Description: Creates an animation of the images generated above,
                     and then cleans up the tmp files by removing everything
                     in the tmp directory that was generated.
        &#39;&#39;&#39;
        # If it&#39;s run without a list of images and we haven&#39;t generated any images yet,
        # then generate the images and set the var to that
        logger.info(&#39;Generating movie...&#39;)
        if image_paths is None and not self.image_paths:
            image_paths=self.generate_images(self.content)
        # If we have already generated the images then set the var to that
        elif image_paths is None:
            image_paths=self.image_paths
        # If they gave us the list of images, put out something to make sure
        # user knows to keep the content matching
        else:
            logger.info(&#39;Make sure the content of the images matches the content var in this class!&#39;)

        frame=cv2.imread(self.image_paths[0])
        h,w,l=frame.shape
        v=cv2.VideoWriter(&#39;movie.avi&#39; if &#39;out&#39; not in args else args[&#39;out&#39;],0,10 if &#39;fps&#39; not in args else args[&#39;fps&#39;],(w,h))
        self.progress=0
        self.total=len(self.image_paths)+1
        for im in self.image_paths:
            v.write(cv2.imread(im))
            os.remove(im)
            self.progress += 1

        os.rmdir(&#39;tmp&#39;)
        self.progress+=1
        print()

if __name__ == &#39;__main__&#39;:
    parser = argparse.ArgumentParser(description = &#39;Creates a video of typing text given a text file&#39;)
    parser.add_argument(&#39;-v&#39;,&#39;--verbose&#39;,help=&#39;outputs logging to console&#39;,nargs=&#39;?&#39;,default=&#39;INFO&#39;,metavar=&#39;LOG LEVEL&#39;,choices=[&#39;DEBUG&#39;,&#39;debug&#39;,&#39;INFO&#39;,&#39;info&#39;,&#39;WARNING&#39;,&#39;warning&#39;,&#39;ERROR&#39;,&#39;error&#39;,&#39;CRITICAL&#39;,&#39;critical&#39;])
    parser.add_argument(&#39;-l&#39;,&#39;--language&#39;,help=&#39;manually choose language of textfile, leave blank to auto-detect&#39;)
    parser.add_argument(&#39;-s&#39;,&#39;--style&#39;,help=&#39;choose pygments style for syntax highlighting, defaults to monokai&#39;,default=&#39;monokai&#39;)
    parser.add_argument(&#39;--font_size&#39;,help=&#39;size of font, defaults to 14&#39;,default=14)
    parser.add_argument(&#39;--fps&#39;,help=&#39;fps of output video, defaults to 10&#39;,default=10)
    parser.add_argument(&#39;-o&#39;,&#39;--out&#39;,help=&#39;name of output file, defaults to movie.avi&#39;,default=&#39;movie.avi&#39;)
    parser.add_argument(&#39;textfile&#39;,help=&#39;text file of the text that should be typed in the video&#39;)
    args = vars(parser.parse_args())

    logger = logging.getLogger(&#39;Typewriter&#39;)
    log_cmd = logging.StreamHandler()
    logger.addHandler(log_cmd)

    try:
        if args[&#39;verbose&#39;].lower() == &#39;debug&#39;:
            logger.setLevel(logging.DEBUG)
        elif args[&#39;verbose&#39;].lower() == &#39;info&#39;:
            logger.setLevel(logging.INFO)
        elif args[&#39;verbose&#39;].lower() == &#39;warning&#39;:
            logger.setLevel(logging.WARNING)
        elif args[&#39;verbose&#39;].lower() == &#39;error&#39;:
            logger.setLevel(logging.ERROR)
        elif args[&#39;verbose&#39;].lower() == &#39;critical&#39;:
            logger.setLevel(logging.CRITICAL)
        else:
            logger.setLevel(logging.WARNING)
    except KeyError:
        logger.setLevel(logging.WARNING)

    # set a format which is simpler for console use
    formatter = logging.Formatter(&#39;%(name)-12s: %(levelname)-8s %(message)s&#39;)
    # tell the handler to use this format
    log_cmd.setFormatter(formatter)
    logger.debug(&#39;Set log level for console.&#39;)


    tw = Typewriter(**args)
    steps = 0
    content = &#39;&#39;
    with open(args[&#39;textfile&#39;],&#39;r&#39;) as f:
        content = f.read()
        steps = len(content)

    tw.generate_images(content)
    tw.generate_movie(**args)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="typewriter.typewriter.Typewriter"><code class="flex name class">
<span>class <span class="ident">Typewriter</span></span>
<span>(</span><span>**args)</span>
</code></dt>
<dd>
<section class="desc"><p>Generates images and video from code with a typewriter effect (typing one character at a time).</p></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Typewriter:
    def __init__(self,**args):
        &#34;&#34;&#34;
        Generates images and video from code with a typewriter effect (typing one character at a time). 
        &#34;&#34;&#34;
        self.args = args
        self.lexer = get_lexer_for_filename(args[&#39;textfile&#39;]) if self.args[&#39;language&#39;] is None else get_lexer_by_name(self.args[&#39;language&#39;])

        logger.debug(f&#39;Assigned value to lexer object {self.lexer}&#39;)
        self.formatter = self.__get_formatter()
        logger.debug(f&#39;Assigned value to formatter object {self.formatter}&#39;)
        self._image_paths = []
        self._progress=0
        self._impath=&#39;&#39;
        self.images = []
        self.total=0
        self.total_size=0
        try:
            with open(args[&#39;textfile&#39;],&#39;r&#39;) as f:
                self._content = f.read()
        except FileNotFoundError as err:
            logger.error(err)
            sys.exit(-1)

    def __get_formatter(self):
        return ImageFormatter(line_numbers=True,style=self.args[&#39;style&#39;],line_number_bg=None,font_size=self.args[&#39;font_size&#39;])

    def __get_lexer(self,content):
        lexer = guess_lexer(content) if self.args[&#39;language&#39;] is None else get_lexer_by_name(self.args[&#39;language&#39;])
        return lexer

    def __update_progress(self):
        &#39;&#39;&#39;
        Adapted into fewer lines from the following gist:
        https://gist.github.com/vladignatyev/06860ec2040cb497f0f3
        &#39;&#39;&#39;
        sys.stdout.write(f&#39;[{&#34;=&#34;*int(round(50*self.progress/float(self.total)))+&#34;-&#34;*(50-int(round(50*self.progress/float(self.total))))} {round(100.0*self.progress/float(self.total),1)}%]\r&#39;)
        sys.stdout.flush()

    def __make_dir(self):
        choice=&#39;&#39;
        if not os.path.exists(&#39;tmp&#39;):
            os.makedirs(&#39;tmp&#39;)
        else:
            while not choice == &#39;y&#39;:
                logger.warning(&#39;There is already a directory named &#34;tmp&#34; here. Please make sure you are okay with everything in this &#34;tmp&#34; folder getting deleted before continuing.&#39;)
                choice=input(&#39;Continue? y/n\n&#39;)
                if choice == &#39;y&#39;:
                    break
                elif choice == &#39;n&#39;:
                    sys.exit(-1)
                else:
                    logger.warning(&#39;Invalid choice. Please type &#34;y&#34; or &#34;n&#34;.\n&#39;)
                    continue

    @property
    def content(self):
        return self._content

    @content.setter
    def content(self,val):
        self._content=val
        self.__get_lexer(self._content)
        self.__get_formatter()

    @property
    def progress(self):
        return self._progress

    @progress.setter
    def progress(self,val):
        self._progress=val
        self.__update_progress()

    @property
    def impath(self):
        return self._impath

    @impath.setter
    def impath(self,val):
        self._impath=val
        self._image_paths.append(self._impath)
        old = Image.open(self._impath)
        new=Image.new(&#39;RGBA&#39;,self.total_size)
        new.paste(old)
        new.save(self._impath)
        self.images.append(new)

    @property
    def image_paths(self):
        return self._image_paths

    @image_paths.setter
    def image_paths(self,val):
        self._image_paths=val
        self.images=[Image.open(f) for f in self._image_paths]
        
    def generate_images(self,content=None):
        &#39;&#39;&#39;
        Generate Images
        ---------------
        Description: Creates a list of image data given text content
        &#39;&#39;&#39;
        if content is None:
            content=self.content
        else:
            self.content = content

        self.__make_dir()
        self.total=len(content)
        code = &#39;&#39;
        logger.info(&#39;Generating images...&#39;)
        blank=&#39;\n&#39;.join([&#39; &#39;*len(line) for line in content.splitlines()])
        last_impath=os.path.join(&#39;tmp&#39;,f&#39;tmp_{str(len(content)).zfill(5)}.png&#39;)
        highlight(blank,self.lexer,self.formatter,outfile=last_impath)

        im=Image.open(last_impath).convert(&#39;RGBA&#39;)
        self.total_size=im.size
        self.images.append(im)
        os.remove(last_impath)
        for line in content:
            for ch in line:
                self.progress+=1
                impath=os.path.join(&#39;tmp&#39;,f&#39;tmp_{str(self.progress).zfill(5)}.png&#39;)
                highlight(code,self.lexer,self.formatter,outfile=impath)
                self.impath=impath
                code += ch

        print()
        return self.image_paths

    def generate_movie(self,image_paths=None,**args):
        &#39;&#39;&#39;
        Generate Movie
        --------------
        Description: Creates an animation of the images generated above,
                     and then cleans up the tmp files by removing everything
                     in the tmp directory that was generated.
        &#39;&#39;&#39;
        # If it&#39;s run without a list of images and we haven&#39;t generated any images yet,
        # then generate the images and set the var to that
        logger.info(&#39;Generating movie...&#39;)
        if image_paths is None and not self.image_paths:
            image_paths=self.generate_images(self.content)
        # If we have already generated the images then set the var to that
        elif image_paths is None:
            image_paths=self.image_paths
        # If they gave us the list of images, put out something to make sure
        # user knows to keep the content matching
        else:
            logger.info(&#39;Make sure the content of the images matches the content var in this class!&#39;)

        frame=cv2.imread(self.image_paths[0])
        h,w,l=frame.shape
        v=cv2.VideoWriter(&#39;movie.avi&#39; if &#39;out&#39; not in args else args[&#39;out&#39;],0,10 if &#39;fps&#39; not in args else args[&#39;fps&#39;],(w,h))
        self.progress=0
        self.total=len(self.image_paths)+1
        for im in self.image_paths:
            v.write(cv2.imread(im))
            os.remove(im)
            self.progress += 1

        os.rmdir(&#39;tmp&#39;)
        self.progress+=1
        print()</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="typewriter.typewriter.Typewriter.content"><code class="name">var <span class="ident">content</span></code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def content(self):
    return self._content</code></pre>
</details>
</dd>
<dt id="typewriter.typewriter.Typewriter.image_paths"><code class="name">var <span class="ident">image_paths</span></code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def image_paths(self):
    return self._image_paths</code></pre>
</details>
</dd>
<dt id="typewriter.typewriter.Typewriter.impath"><code class="name">var <span class="ident">impath</span></code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def impath(self):
    return self._impath</code></pre>
</details>
</dd>
<dt id="typewriter.typewriter.Typewriter.progress"><code class="name">var <span class="ident">progress</span></code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def progress(self):
    return self._progress</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="typewriter.typewriter.Typewriter.generate_images"><code class="name flex">
<span>def <span class="ident">generate_images</span></span>(<span>self, content=None)</span>
</code></dt>
<dd>
<section class="desc"><h2 id="generate-images">Generate Images</h2>
<dl>
<dt><strong><code>Description</code></strong> :&ensp;<code>Creates</code> <code>a</code> <code>list</code> of <code>image</code> <code>data</code> <code>given</code> <code>text</code> <code>content</code></dt>
<dd>&nbsp;</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def generate_images(self,content=None):
    &#39;&#39;&#39;
    Generate Images
    ---------------
    Description: Creates a list of image data given text content
    &#39;&#39;&#39;
    if content is None:
        content=self.content
    else:
        self.content = content

    self.__make_dir()
    self.total=len(content)
    code = &#39;&#39;
    logger.info(&#39;Generating images...&#39;)
    blank=&#39;\n&#39;.join([&#39; &#39;*len(line) for line in content.splitlines()])
    last_impath=os.path.join(&#39;tmp&#39;,f&#39;tmp_{str(len(content)).zfill(5)}.png&#39;)
    highlight(blank,self.lexer,self.formatter,outfile=last_impath)

    im=Image.open(last_impath).convert(&#39;RGBA&#39;)
    self.total_size=im.size
    self.images.append(im)
    os.remove(last_impath)
    for line in content:
        for ch in line:
            self.progress+=1
            impath=os.path.join(&#39;tmp&#39;,f&#39;tmp_{str(self.progress).zfill(5)}.png&#39;)
            highlight(code,self.lexer,self.formatter,outfile=impath)
            self.impath=impath
            code += ch

    print()
    return self.image_paths</code></pre>
</details>
</dd>
<dt id="typewriter.typewriter.Typewriter.generate_movie"><code class="name flex">
<span>def <span class="ident">generate_movie</span></span>(<span>self, image_paths=None, **args)</span>
</code></dt>
<dd>
<section class="desc"><h2 id="generate-movie">Generate Movie</h2>
<dl>
<dt><strong><code>Description</code></strong> :&ensp;<code>Creates</code> <code>an</code> <code>animation</code> of <code>the</code> <code>images</code> <code>generated</code> <code>above</code>,</dt>
<dd>and then cleans up the tmp files by removing everything
in the tmp directory that was generated.</dd>
</dl></section>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def generate_movie(self,image_paths=None,**args):
    &#39;&#39;&#39;
    Generate Movie
    --------------
    Description: Creates an animation of the images generated above,
                 and then cleans up the tmp files by removing everything
                 in the tmp directory that was generated.
    &#39;&#39;&#39;
    # If it&#39;s run without a list of images and we haven&#39;t generated any images yet,
    # then generate the images and set the var to that
    logger.info(&#39;Generating movie...&#39;)
    if image_paths is None and not self.image_paths:
        image_paths=self.generate_images(self.content)
    # If we have already generated the images then set the var to that
    elif image_paths is None:
        image_paths=self.image_paths
    # If they gave us the list of images, put out something to make sure
    # user knows to keep the content matching
    else:
        logger.info(&#39;Make sure the content of the images matches the content var in this class!&#39;)

    frame=cv2.imread(self.image_paths[0])
    h,w,l=frame.shape
    v=cv2.VideoWriter(&#39;movie.avi&#39; if &#39;out&#39; not in args else args[&#39;out&#39;],0,10 if &#39;fps&#39; not in args else args[&#39;fps&#39;],(w,h))
    self.progress=0
    self.total=len(self.image_paths)+1
    for im in self.image_paths:
        v.write(cv2.imread(im))
        os.remove(im)
        self.progress += 1

    os.rmdir(&#39;tmp&#39;)
    self.progress+=1
    print()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="typewriter" href="index.html">typewriter</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="typewriter.typewriter.Typewriter" href="#typewriter.typewriter.Typewriter">Typewriter</a></code></h4>
<ul class="two-column">
<li><code><a title="typewriter.typewriter.Typewriter.content" href="#typewriter.typewriter.Typewriter.content">content</a></code></li>
<li><code><a title="typewriter.typewriter.Typewriter.generate_images" href="#typewriter.typewriter.Typewriter.generate_images">generate_images</a></code></li>
<li><code><a title="typewriter.typewriter.Typewriter.generate_movie" href="#typewriter.typewriter.Typewriter.generate_movie">generate_movie</a></code></li>
<li><code><a title="typewriter.typewriter.Typewriter.image_paths" href="#typewriter.typewriter.Typewriter.image_paths">image_paths</a></code></li>
<li><code><a title="typewriter.typewriter.Typewriter.impath" href="#typewriter.typewriter.Typewriter.impath">impath</a></code></li>
<li><code><a title="typewriter.typewriter.Typewriter.progress" href="#typewriter.typewriter.Typewriter.progress">progress</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.5</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>